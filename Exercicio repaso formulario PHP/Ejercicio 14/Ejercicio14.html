<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Rellena tu CV</title>
  </head>
  <body>
    <h1>Rellena tu CV</h1>
    <form action="http://localhost/insertar_csv.php" method="post">
      <div id="nombre">
        <label for="nombre">Nombre</label>
        <br />
        <input id="nombre" name="nombre" maxlength="30" size="20" required />
      </div>
      <div id="apellidos">
        <label for="apellidos">Apellidos</label>
        <br />
        <input
          id="apellidos"
          name="apellidos"
          maxlength="40"
          size="50"
          required
        />
      </div>
      <div id="contraseña">
        <label for="contraseña">Contraseña</label>
        <br />
        <input
          type="pasword"
          id="contraseña"
          name="contraseña"
          size="20"
          required
        />
      </div>
      <div id="dni">
        <label for="dni">DNI</label>
        <br />
        <input id="dni" name="dni" size="6" maxlength="10" />
        <br />
      </div>
      <div id="sexo">
        <label for="sexo">Sexo</label>
        <br />
        <input type="radio" id="sexo_mujer" name="sexo" value="mujer" checked />
        Mujer
        <br />
        <input type="radio" id="sexo_hombre" name="sexo" value="hombre" />
        Hombre
      </div>
      <br />
      <div id="foto">
        <label for="foto">Incluir mi foto</label>
        <input type="file" id="foto" name="foto" />
      </div>

      <br />
      <div id="suscribirse">
        <input type="checkbox" id="suscribirse" name="suscribirse" checked />
        <label for="suscribirse">Suscribirse al boletin de novedades</label>
      </div>
      <br />

      <div>
        <button type="submit">Guardar cambios</button>
        <button type="reset">Borrar los datos introducidos</button>
      </div>
    </form>
  </body>

  <script>
    document.getElementById("dni").onchange = function nif(dni) {
      var numero;
      var letr;
      var letra;
      var expresion_regular_dni;

      expresion_regular_dni = /^\d{8}[a-zA-Z]$/;

      if (expresion_regular_dni.test(dni) == true) {
        numero = dni.substr(0, dni.length - 1);
        letr = dni.substr(dni.length - 1, 1);
        numero = numero % 23;
        letra = "TRWAGMYFPDXBNJZSQVHLCKET";
        letra = letra.substring(numero, numero + 1);
        if (letra != letr.toUpperCase()) {
          alert("DNI erroneo, la letra del NIF no se corresponde");
        } else {
          alert("DNI correcto");
        }
      } else {
        alert("DNI erroneo, formato no válido");
      }
    }
  </script>
</html>
